{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": [
		"config:base"
	],
    "automerge": true,
    "autodiscover": true,
    "autodiscoverFilter": [ "Zemnmez/monorepo" ],
	"platformAutomerge": true,
	"platformCommit": true,
	"allowScripts": true,
	"allowedPostUpgradeCommands": [
		"CARGO_BAZEL_REPIN=1 yarn bazel sync --only=cargo"
	],
	"packageRules": [
		{
			"matchManagers": ["cargo"],
			"postUpgradeTasks": {
				"commands": [
					"CARGO_BAZEL_REPIN=1 yarn bazel sync --only=cargo"
				],
				"executionMode": "branch",
				"fileFilters": [ "Cargo.Bazel.lock", "Cargo.toml", "cargo-bazel-lock.json" ]
			}
		}
	]
}
