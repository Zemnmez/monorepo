load("//bzl:rules.bzl", "bazel_lint")

"""
Provides the rlocationpath of chromewebdriver to TypeScript
"""

genrule(
    name = "module_gen",
    srcs = [
        "//bin/host/chromedriver",
    ],
    outs = ["path.ts"],
    cmd_bash = """
		echo '/* eslint-disable */' > $@
		echo "import { runfiles as Runfiles } from '@bazel/runfiles';" >> $@
		echo "export const chromeDriverPath = Runfiles.resolve('$(rlocationpath //bin/host/chromedriver)')" >> $@
	""",
)

bazel_lint(name = "bazel_lint")
