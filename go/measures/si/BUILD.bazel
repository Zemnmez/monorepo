load("//go:rules.bzl", "go_binary", "go_library")
load("@bazel_skylib//rules:run_binary.bzl", "run_binary")

package(default_visibility = ["//:__subpackages__"])

run_binary(
	name = "si_data_gen",
	tool = "//go/measures/si/gen",
	srcs = [ "//csv/measures:si/multipliers.csv" ],
	args = [ "-out", "$(location data.go)", "-in", "$(location //csv/measures:si/multipliers.csv)" ],
	outs = [ "data.go" ]
)

go_library(
	name = "si",
	srcs = [ "data.go", "si.go" ],
    importpath = "github.com/zemnmez/monorepo/" + package_name(),
)


